# ============================================================
# Backend Environment Variables
# ============================================================
# Copy this file to .env and update with your values
# NEVER commit .env to version control!

# ============================================================
# Server Configuration
# ============================================================

# Node environment (development, production, test)
NODE_ENV=development

# Port for the backend server
PORT=5000

# API prefix (optional)
API_PREFIX=/api

# ============================================================
# Database Configuration
# ============================================================

# MongoDB connection string
# Development (local):
MONGODB_URI=mongodb://localhost:27017/pulse

# Test database:
MONGODB_TEST_URI=mongodb://localhost:27017/pulse-test

# Production (MongoDB Atlas example):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/pulse?retryWrites=true&w=majority

# ============================================================
# Authentication & Security
# ============================================================

# JWT secret key - MUST be changed in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration time (examples: 1h, 24h, 7d, 30d)
JWT_EXPIRES_IN=24h

# JWT refresh token expiration (for future refresh token implementation)
JWT_REFRESH_EXPIRES_IN=30d

# ============================================================
# CORS Configuration
# ============================================================

# Frontend URL for CORS (comma-separated for multiple origins)
# Development:
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# Production:
# CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# Socket.io CORS origin (usually same as CORS_ORIGIN)
SOCKET_CORS_ORIGIN=http://localhost:5173

# ============================================================
# File Upload Configuration
# ============================================================

# Maximum upload file size in bytes (100MB = 104857600)
MAX_FILE_SIZE=104857600

# Upload directory path (relative to backend root)
UPLOAD_PATH=./uploads

# Allowed video MIME types (comma-separated)
ALLOWED_VIDEO_TYPES=video/mp4,video/avi,video/mov,video/mkv,video/webm

# ============================================================
# Rate Limiting
# ============================================================

# Rate limit window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================
# FFmpeg Configuration
# ============================================================

# FFmpeg binary path (usually in system PATH)
FFMPEG_PATH=ffmpeg

# FFprobe binary path (usually in system PATH)
FFPROBE_PATH=ffprobe

# ============================================================
# Optional: External Services
# ============================================================

# AWS S3 Configuration (if using S3 for storage instead of local)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=pulse-videos

# Redis Configuration (for socket.io scaling across multiple servers)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# Sentry Error Tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================
# Logging Configuration
# ============================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log file path (optional)
# LOG_FILE=./logs/app.log
